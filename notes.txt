09:15:20.894 [main] DEBUG ch.elexis.core.ui.util.Log - start
09:15:20.894 [main] DEBUG ch.elexis.core.ui.util.Log - createBackGroundJob
09:15:20.926 [main] DEBUG ch.elexis.core.ui.util.Log - start finished
--------------Exception--------------
java.lang.NumberFormatException: For input string: "4.6"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.lang.Integer.parseInt(Integer.java:492)
	at java.lang.Integer.parseInt(Integer.java:527)
	at ch.elexis.data.PersistentObject.checkZero(PersistentObject.java:2279)
	at ch.elexis.data.Artikel.getPackungsGroesse(Artikel.java:523)
	at ch.elexis.data.Artikel.getTotalCount(Artikel.java:267)
	at ch.elexis.core.ui.views.artikel.ArtikelLabelProvider.getColumnText(ArtikelLabelProvider.java:43)
	at org.eclipse.jface.viewers.TableColumnViewerLabelProvider.update(TableColumnViewerLabelProvider.java:70)
	at org.eclipse.jface.viewers.ViewerColumn.refresh(ViewerColumn.java:152)
	at org.eclipse.jface.viewers.AbstractTableViewer.doUpdateItem(AbstractTableViewer.java:399)
	at org.eclipse.jface.viewers.StructuredViewer$UpdateItemSafeRunnable.run(StructuredViewer.java:485)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)
	at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:49)
	at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:175)
	at org.eclipse.jface.viewers.StructuredViewer.updateItem(StructuredViewer.java:2167)
	at org.eclipse.jface.viewers.AbstractTableViewer.createItem(AbstractTableViewer.java:277)
	at org.eclipse.jface.viewers.AbstractTableViewer.internalRefreshAll(AbstractTableViewer.java:757)
	at org.eclipse.jface.viewers.AbstractTableViewer.internalRefresh(AbstractTableViewer.java:649)
	at org.eclipse.jface.viewers.AbstractTableViewer.internalRefresh(AbstractTableViewer.java:636)
	at org.eclipse.jface.viewers.AbstractTableViewer$2.run(AbstractTableViewer.java:592)
	at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1443)
	at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1404)
	at org.eclipse.jface.viewers.AbstractTableViewer.inputChanged(AbstractTableViewer.java:590)
	at org.eclipse.jface.viewers.ContentViewer.setInput(ContentViewer.java:280)
	at org.eclipse.jface.viewers.StructuredViewer.setInput(StructuredViewer.java:1690)
	at ch.elexis.core.ui.views.artikel.ArtikelSelektor.createPartControl(ArtikelSelektor.java:155)
	at org.eclipse.ui.internal.ViewReference.createPartHelper(ViewReference.java:386)
	at org.eclipse.ui.internal.ViewReference.createPart(ViewReference.java:240)
	at org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:595)
	at org.eclipse.ui.internal.PartPane.setVisible(PartPane.java:315)
	at org.eclipse.ui.internal.ViewPane.setVisible(ViewPane.java:534)
	at org.eclipse.ui.internal.presentations.PresentablePart.setVisible(PresentablePart.java:180)
	at org.eclipse.ui.internal.presentations.util.PresentablePartFolder.select(PresentablePartFolder.java:270)
	at org.eclipse.ui.internal.presentations.util.LeftToRightTabOrder.select(LeftToRightTabOrder.java:65)

	
	
	
CstProfileEditor_Anzeige
CstProfileEditor_Auswahlbefunde
CstProfileEditor_Therapievorschlag
CstProfileEditor_Proimmun
CstProfileEditor_GastroColo
CstProfileEditor_Darstellungsoptionen
CstProfileEditor_Effektiv
CstProfileEditor_MinimalMaximal
CstProfileEditor_Zeitraster
CstProfileEditor_Crawlback
CstProfileEditor_AuswahlBefundparameter
CstProfileEditor_Datum
CstProfileEditor_AnzahlGetesterLebensmittel
CstProfileEditor_Reaktionsstaerke1
CstProfileEditor_Reaktionsstaerke2
CstProfileEditor_Reaktionsstaerke3
CstProfileEditor_Reaktionsstaerke4
CstProfileEditor_GastroMakroBefund
CstProfileEditor_GastroHistoBefund
CstProfileEditor_ColoMakroBefund
CstProfileEditor_ColoHistoBefund
CstProfileEditor_Normal
CstProfileEditor_Pathologisch
CstProfileEditor_SaveProfile
CstProfileEditor_AuswertungAnzeigen
CstProfileEditor_CstProfilesFor
CstProfileEditor_ProfileItems
CstThemenblockEditor_CstGroups
CstThemenblockEditor_LaborItems
CstThemenblockEditor_SaveAbstract
Button_MoveUp
Button_MoveDown
CstResultEffektiv_Titel
CstResultMiniMax_Titel

Cycle Problem:

Der cycle verschwindet, wenn nur diese Projekte 
geöffnet sind (!?):

	ch.elexis.base.befunde
	ch.elexis.core
	ch.elexis.core.data
	ch.elexis.core.ui
	ch.elexis.core.ui.icons
	ch.rgw.utility
	

	
Run Configuration:
-Dch.elexis.username=Administrator
-Dch.elexis.password=admin


Beim import muss unbedingt das charset angegeben werden:
>mysql --user=root --password=root --default-character-set=utf8 elexisprod3

connect-string auf dem Terminal server von Gpb:
 jdbc:mysql://DCGPB001:3306/elexisprod
 
 
 mysql_dump.cmd auf dem terminal server:
 
 @echo off

set mySqlPath=C:\Program Files\MySQL\MySQL Server 5.6
set dbUser=elexisuser
set dbPassword=elexis
set dbName=elexisprod
set file=%dbName%.%DATE%_-_%time:~0,2%%time:~3,2%%time:~6,2%.sql
set path=G:\Saves\BackupElexis\%dbName%

echo Running dump for database %dbName% ^> ^%path%\%file%
"%mySqlPath%\bin\mysqldump.exe" -u %dbUser% -p%dbPassword% --result-file="%path%\%file%" %dbName%


PDF Berechnungen

Baur 1939

check 1 w: 1008.0 h:8238.0
check 2: 11.5079365
check 3
check 0 w: 1008 h:8238
1080

check 1 w: 1008.0 h:8238.0
check 2: 11.5079365
check 3

1080 passt genau auf diese auswertungsgrafik
teiler: 7.62778
13.123%

210 * 297 mm

margin 50
check 0 w: 1008 h:8238
docHeight: 1098.4
check 1 w: 1008.0 h:8238.0
doc leftmargin: 50.0
doc rightmargin: 50.0
doc width: 216.0
img width: 1008.0
check 2: 11.5079365
check 3

margin 10
check 0 w: 1008 h:8238
docHeight: 1098.4
check 1 w: 1008.0 h:8238.0
doc leftmargin: 10.0
doc rightmargin: 10.0
doc width: 216.0
img width: 1008.0
check 2: 19.444445
check 3


A4: Rectangle: 595.0x842.0 (rot: 0 degrees)
pagesize
Rectangle: 595.0x1098.4 (rot: 0 degrees)

210 mm = 8.26772 in
8.26772 * 96 = 794 px

297 mm = 11.69291 in
8.26772 * 96 = 1122.5 px

heigth a4: 1123px


Once you've established that, most elements in iTextSharp use points and 1 in = 2.54 cm = 72 points.

wenn ein bild eine auflösung von 72dpi hat, dann ist 1pt = 1px
8238 * 1008

Druckgrösse:
26.67 * 217.96

37.8 px / cm
96   px / in

pdf original grösse:
355.6 x 2906.2 mm

Gute Werte:
595 4400	Verhältnis 1:7.56
605 4400 zu kurz

bei 72 dpi (Monitorauflösung) wären es:
595 x 842 pixel

bei 300 dpi (Druckqualität) hingegen:
2480 x 3508 pixel

kannst du ganz einfach selbst errechnen:

dpi = dots per inch

1 inch = 2,54 cm
DIN A4 = 21,0 x 29,7 cm
also: 21 / 2,54 = 8,27 x 72 = 595 


794 px 
1123 px


Problem mit Missing requirements:

Cannot complete the install because one or more required items could not be found.
  Software being installed: CST Plugin for Elexis3 1.0.0.201506141014 (ch.gpb.elexis.cst.feature.feature.group 1.0.0.201506141014)
  Missing requirement: Cst 1.0.0.201506141014 (ch.gpb.elexis.cst 1.0.0.201506141014) requires 'bundle ch.elexis.core.data 3.1.0' but it could not be found
  Cannot satisfy dependency:
    From: CST Plugin for Elexis3 1.0.0.201506141014 (ch.gpb.elexis.cst.feature.feature.group 1.0.0.201506141014)
    To: ch.gpb.elexis.cst [1.0.0.201506141014]
    
Lösung: im plugin.xml/MANIFEST.MF haben sich zu hohe Bundle-version Einträge eingeschlichen (3.1.0).
zurückstellen auf 3.0.0 hat das problem gelöst.    
    
 Das war wahrscheinlich auch das Problem beim Integrieren in den Konfigurator!!
 
   
    
 MANIFEST.MF
 
 Manifest-Version: 1.0
Bundle-ManifestVersion: 2
Bundle-Name: Cst
Bundle-SymbolicName: ch.gpb.elexis.cst;singleton:=true
Bundle-Version: 1.0.0.qualifier
Bundle-Activator: ch.gpb.elexis.cst.Activator
Bundle-Vendor: LUDIN
Require-Bundle: org.eclipse.core.runtime,
 org.eclipse.ui,
 ch.elexis.core;bundle-version="3.0.0",
 ch.elexis.core.data;bundle-version="3.1.0",
 ch.elexis.base.befunde;bundle-version="3.0.0",
 junit;bundle-version="4.8.2",
 ch.rgw.utility;bundle-version="1.0.0",
 org.eclipse.nebula.widgets.tablecombo;bundle-version="1.0.0",
 org.eclipse.nebula.widgets.cdatetime;bundle-version="0.14.0",
 ch.elexis.core.ui;bundle-version="3.1.0",
 org.eclipse.ui.forms;bundle-version="3.5.200",
 com.lowagie.itext;bundle-version="2.0.8"
Bundle-RequiredExecutionEnvironment: JavaSE-1.7
Bundle-ActivationPolicy: lazy
Import-Package: org.slf4j
 
PDF

Statt no result leere CstDangerRangeCanvas ausgeben. 



	GridData gdSc = new GridData(GridData.FILL_HORIZONTAL);
	gdSc.grabExcessVerticalSpace = true;
	gdSc.verticalAlignment = GridData.FILL;
	sc1.setLayoutData(gdSc);

Snippet, um Auswertung an einem bestimmten Punkt zu unterbrechen:


		if (true) {
		    baseComposite.setSize(OUTPUTWIDTH, newHeigth + 400);
		    baseComposite.pack();
		    return;
		}


CstResultEffektiv

png breite 779 ohne Linie und nur Laborwerte
png breite 804 mit Linie und nur Laborwerte

alles aber ohne Linie (794px) = 794 ?!?
mit allem 804
 
 
1	1123	
2	2246
3	3369
4	4492
5	5615
6	6738
7	7861
8   8984
9	10107
10	11230
11	12353
12	13476
13	14599
14	15722
 
 
 Testfall Aebi:
 
 ganzes png: 794 x 12639
 12639 / 1123 = 11.25
 
 
 Die aktuellen Fehler sollen korrigiert und implementiert werden (gemäss Liste)
-F1:Spaltenbeschriftung bei Kopieren von CST Profil zu anderem Pat. ist falsch: Vorname und Name sind vertauscht
-F2: Sortierungs-Knöpfe bei CST Profil u.a.m. sind verkehrt beschriftet: Aufwärts hat Abwärtspfeil u.u.
F3: Pro Immun: in Auswertung sind Zeilenumbrüchhe nörig, da sonst nur 1. Zeile erscheint
	War so definiert in der Vorlage, will man zwei Zeilen oder mehr?
	
-F4: In Auswertung sollte noch Rubrik 'Beurteilung und Diagnose' eingebaut werden, welche ebenso wie der Therapievorschlag bearbeitet werden kann.
-F5: Abstract for Lab item: da nur eine beschränkte Zahl Zeichen (5 Zeilen mit Total 490 Zeichen inkl. Leerzeichen) Platz haben, wäre ein Zeichenzähler sinnvoll für die Beschriftung...
F6: beim Drucken, Herstellen der Auswertung als png/pdf etc., sollte wie bei anderen Routinen in der angewählten Konsultation der blau hinterlegte Dokumententitel abgelegt werden, dass cst Auswertung erstellt wurde mit Datum... (Auswertungs-Dokument mit Word erstellen??) 
-F7: wenn letztes Labor etwas länger zurückliegt z.B. 2-3 Mt.  und seither keine neuene Werte gemacht wurden , wird es nicht graphisch angezeigt zB Droz Marcel. Ziel: letzte Werte sollten immer graphisch angezeigt werden!
F8: Beim kopieren der CST Profille sollen die bereits bestehenden Sortierungen der items unbedingt übernommen werden! (sehr viel Zeitaufwand zum erneut sortieren)
-F9: Beim Ausdruck sollte unbedingt die Messeinheit in eckigen Klammern angegeben werden z.B Prostata , PSA gesamt [µg/l]
-F10: CST Profil ist bei Pat, welche bereits ein CST-,Profil haben und welche neu wieder aufgerufen werden NICHT sichtbar (refresh CST-Profil-Fester?!), erst wenn ein neues Profil generiert wird, erscheint das bereits bestehende Profil wieder...
F11: Pdf: vom Auswertung effektiv, ideal wählbar A4 hoch einspaltig oder dann A4 quer 2-spaltig mit kleiner Schrift 8 ev. 7, damit die Information komprimiert daherkommt...

Farbe der Profile Tabelle rot/grün
Context menu Profil zu einem anderen Patienten kopieren: eigener geht auch.
Anzeige Tab im profileditor: nur die gültigen Optionen aktivieren 
hat Auswerten ab eine Funktion? ja, in resultat effektiv vorwert
hat Plausibilitätscheck eine Funktion ? -> sieht nicht so aus

Die ganze Befunde-Geschichte ist GPB-spezifisch!!
- Resultat-Konvertierung ist viel toleranter (19.6.)
- Profil wird nachgeladen, wenn Focus auf neuen patienten geht 19.6.
- scrollen mit Mausrrad funktioniert jetzt.
- Resultat View füllt jetzt Fenster aus, druck trotzdem richtige Breite.



Standardmässig sind bei der Elexis-Komplettinstallation, die Sie von der Website
downloaden k¨onnen, folgende Plugins enthalten:

elexis-artikel-schweiz: Plugin zur Einbindung des Galdat-Artikeltammes (separates
Abonnement notwendig) und der MiGeL-Liste
elexis-arzttarife-schweiz: Plugin zur Einbindung von Tarmed und EAL-Tarif.
elexis-diagnosecodes-schweiz: Plugin zur Einbindung von ICD-10 und TI-Code.
elexis-medikamente-BAG: Plugin zur Einbindung der Spezialit¨atenliste.
elexis-icpc: Plugin zur Einbindung des ICPC-Codes (Lizenz muss separat besorgt
werden)
elexis-agenda: Mehrmandantenf¨ahige und mehrplatzf¨ahige Agenda
noatext: Einbindung der Office-Suite OpenOffice
elexis-nachrichten: Plugin zum Senden einfacher Textnachrichten zwischen Arbeitspl¨atzen
medshare-directories: Plugin zum Einlesen von Adressdaten aus ¨offentlich zug¨anglichen
Verzeichnissen.
elexis-bildanzeige: Plugin zur Einbinden von Bildern im Konsultationstext
elexis-omnivore: Plugin zum Zuordnen beliebiger Dokumente zu Patienten
 
 
Warum läuft omnivore in der Open Source Version nicht (in Medelexis schon?? ne auch nicht)

 
 
Fehler vor Update:

MESSAGE Fehler bei Felddefinition
!STACK 0
java.lang.NoSuchMethodException: ch.elexis.data.Patient.getRaucher()
	at java.lang.Class.getMethod(Unknown Source)
	at ch.elexis.data.PersistentObject.get(PersistentObject.java:1182)
07:42:38.702 [main] INFO  ch.elexis.data.PersistentObject - field is not mapped Ausstand Triamed
07:42:38.702 [main] DEBUG ch.elexis.data.Query - Executed SELECT ID FROM XID WHERE deleted='0' AND  object = '1691' AND  domain = 'Ausstand Triamed'
07:42:38.702 [main] WARN  ch.elexis.data.PersistentObject - Fehler bei Felddefinition Ausstand Triamed
07:42:38.702 [main] INFO  c.e.c.a.l.ElexisStatusEventEventListener - StatusEvent [PLUGIN] ch.elexis.core.data [MESSAGE] Fehler bei Felddefinition [EXCEPTION] java.lang.NoSuchMethodException: ch.elexis.data.Patient.getAusstand Triamed()


java.lang.NoSuchMethodException: ch.elexis.data.Patient.getAusstand Triamed()
	at java.lang.Class.getMethod(Unknown Source)
	at ch.elexis.data.PersistentObject.get(PersistentObject.java:1182)
	at ch.elexis.core.ui.util.LabeledInputField$AutoForm.reload(LabeledInputField.java:655)

irgendwo in der DB: unauffälliges Trennmuster?? Tab. Laborwerte
Messlöffel in



Beim definieren von neuen Befundarten wird automatisch ein "Datum" Feld hinzugefügt. Achtung: das sieht man erst nach
neustart/neu öffnen der view.

Idee: zu jedem ausgewählten Befundart kann ein Separator definiert werden für den FAll wie zb Blutdruck systol/diastol

Beschreibung Befunde-System:
---------------------------

Elexis-Befunde:

fields:
{
Röntgen_FIELDS=Aufnahme:/:s;;Befund:/:m, 
Gewicht_FIELDS=Kg:/:s;;Grösse (m):/:s;;BMI=Math.round((F1/(F2*F2))*10)/10.0:/:s;;Hb (g/l):/:s;;Eisenmangel (mg Eisen)=Math.round(F1 * ((15 - (F4/10))*2.4) + 500):/:s;;25OH Vit D3 (nmol/l):/:s;;Vit D-Mangel (IE)=(40*(150-F6))*F1:/:s, 
Infusion_FIELDS=Nacl:/:s;;Inhaltsstoffe:/:s;;Verträglichkeit:/:s;;Initialen:/:s, 
Vit B 12_FIELDS=Medikament:/:s;;i.m. / s.c.:/:s;;Initialen:/:s, VERSION=4, 
_FIELDS=Gewicht:/:s;;Grösse (m):/:s;;BMI=Math.round((F1/(F2*F2))*10)/10.0:/:s, names=Grösse (m);;BD;;Gewicht;;Röntgen;;Quick;;BZ;;EKG;;Ferinject-Dosis (Mangel in mg Eisen);;Tumormarker;;Vit B 12;;Infusion;;test, 
EKG_FIELDS=Befund:/:m, 
Quick_FIELDS=Quick (%):/:s;;INR:/:s, 
Tumormarker_FIELDS=CEA:/:s;;PSA:/:s;;CA 19.9:/:s;;M2-PK:/:s, 
test_FIELDS=kg:/:s, 
BD_FIELDS=BD systol/diastol:/:s;;Puls/min:/:s, 
BZ_FIELDS=BZ nü (mmol/l):/:s;;HbA1c (%):/:s;;BZ pp (mmol/l):/:s;;Microalbumin (mg/l):/:s}

aus den fields erhält man mit dem Key Befundart (name aus elexisbefunde) + "_FIELDS" wie
zB Gewicht_FIELDS die eigentlichen Felder der Befundart:

Kg:/:s;;Grösse (m):/:s;;BMI=Math.round((F1/(F2*F2))*10)/10.0:/:s;;Hb (g/l):/:s;;Eisenmangel (mg Eisen)=Math.round(F1 * ((15 - (F4/10))*2.4) + 500):/:s;;25OH Vit D3 (nmol/l):/:s;;Vit D-Mangel (IE)=(40*(150-F6))*F1:/:s


CST Befunde-System:

keys von CstProfile.getMap(CstProfile.KEY_AUSWAHLBEFUNDE)   "Auswahlbefunde":

[Grösse (m)=true, Tumormarker=true, separator_test=test, null, null, Ferinject-Dosis (Mangel in mg Eisen)=true, separator_Vit B 12=, Quick=true, separator_BD=/, Infusion=true, null, null, null, separator_Quick=, null, separator_Infusion=, Röntgen=true, separator_Gewicht=:--, null, separator_Tumormarker=, null, EKG=true]




Die Messwerte befinden sich in der Tabelle elexisbefunde:
Als Key im Feld name dient der Titel des Befundparameters, als
value sind in einer Marshalled Map die einzelnen Felder des
Befundparameters im Feld "Befunde" abgelegt, Beispiel:

name = 'Gewicht'
Befunde = '{BMI=Math.round((F1/(F2*F2))*10)/10.0=24.1, Kg=86, Grösse (m)=1.91}'

		Messwert setup = Messwert.getSetup();
		hash = setup.getMap(Messwert.FLD_BEFUNDE);
		String names = (String) hash.get(Messwert.HASH_NAMES);

		hash: {Röntgen_FIELDS=Aufnahme:/:s;;Befund:/:m, Gewicht_FIELDS=Kg:/:s;;Grösse (m):/:s;;BMI=Math.round((F1/(F2*F2))*10)/10.0:/:s;;Hb (g/l):/:s;;Eisenmangel (mg Eisen)=Math.round(F1 * ((15 - (F4/10))*2.4) + 500):/:s;;25OH Vit D3 (nmol/l):/:s;;Vit D-Mangel (IE)=(40*(150-F6))*F1:/:s, Infusion_FIELDS=Nacl:/:s;;Inhaltsstoffe:/:s;;Verträglichkeit:/:s;;Initialen:/:s, Vit B 12_FIELDS=Medikament:/:s;;i.m. / s.c.:/:s;;Initialen:/:s, VERSION=4, _FIELDS=Gewicht:/:s;;Grösse (m):/:s;;BMI=Math.round((F1/(F2*F2))*10)/10.0:/:s, names=Grösse (m);;BD;;Gewicht;;Röntgen;;Quick;;BZ;;EKG;;Ferinject-Dosis (Mangel in mg Eisen);;Tumormarker;;Vit B 12;;Infusion;;test, EKG_FIELDS=Befund:/:m, Quick_FIELDS=Quick (%):/:s;;INR:/:s, Tumormarker_FIELDS=CEA:/:s;;PSA:/:s;;CA 19.9:/:s;;M2-PK:/:s, test_FIELDS=kg:/:s, BD_FIELDS=BD systol/diastol:/:s;;Puls/min:/:s, BZ_FIELDS=BZ nü (mmol/l):/:s;;HbA1c (%):/:s;;BZ pp (mmol/l):/:s;;Microalbumin (mg/l):/:s}
		names: Grösse (m);;BD;;Gewicht;;Röntgen;;Quick;;BZ;;EKG;;Ferinject-Dosis (Mangel in mg Eisen);;Tumormarker;;Vit B 12;;Infusion;;test



Fehler: 
------
siehe Testperson BD am 23.4.14 doppelter eintrag, anzeige nicht korrekt
Bigler: siehe Werte vom 8.4.2015: warum werden sie nicht immer als letzter Wert dargestellt, wie bei Hämoglobin:


weil die Daten wieder mal Bullshit sind:
06:41:09.646 [main] INFO  c.g.e.cst.views.CstProfileEditor - 				P: lab result: HGB, Hämoglobin (13.5-18.0/12.0-16.0 g/dL)[Eigenlabor: Sysmex, 10], 07.02.2014: 15.6
06:41:09.646 [main] INFO  c.g.e.cst.views.CstProfileEditor - 				P: lab result: HGB, Hämoglobin (13.5-18.0/12.0-16.0 g/dL)[Eigenlabor: Sysmex, 10], 22.01.2013: 14.5
06:41:09.651 [main] INFO  c.g.e.cst.views.CstProfileEditor - 				P: lab result: HGB, Hämoglobin (13.5-18.0/12.0-16.0 g/dL)[Eigenlabor: Sysmex, 10], 04.09.2014: 13.4
06:41:09.651 [main] INFO  c.g.e.cst.views.CstProfileEditor - 				P: lab result: HGB, Hämoglobin (13.5-18.0/12.0-16.0 g/dL)[Eigenlabor: Sysmex, 10], 02.03.2012: 14.5
06:41:09.656 [main] INFO  c.g.e.cst.views.CstProfileEditor - 				P: lab result: HGB, Hämoglobin (13.5-18.0/12.0-16.0 g/dL)[Eigenlabor: Sysmex, 10], 24.05.2013: 15.6
06:41:09.661 [main] INFO  c.g.e.cst.views.CstProfileEditor - 				P: lab result: HGB, HGB (12.0-18.0/12.0-18.0 g/dL)[Eigenlabor: Sysmex, 50], 08.04.2015: 14.5
06:41:09.661 [main] INFO  c.g.e.cst.views.CstProfileEditor - 				P: lab result: HGB, Hämoglobin (13.5-18.0/12.0-16.0 g/dL)[Eigenlabor: Sysmex, 10], 31.01.2012: 14.4
06:41:09.661 [main] INFO  c.g.e.cst.views.CstProfileEditor - 				P: lab result: HGB, Hämoglobin (13.5-18.0/12.0-16.0 g/dL)[Eigenlabor: Sysmex, 10], 12.05.2014: 14.7



künzi:
-verwendet er cleartype?
- neue maschine?
- immer probleme mit scheissdaten, erst das mt den gemischten laborwerten(HGB vs.Hämoglobin),
 jetzt wieder eins mit den "leeren" Befundarten (_FIELDS keys)

- Import/Export Funktion sinnvoll?

- omnivore macht gar nichts auf dem Filesystem! Doch!
- Workflow-zeugs: was ist wenn jeamnad kein Omnivore installiert hat

- sind die Kategorien in der Briefauswahl nicht konfigurierbar?



- was hat man dem Dr. zum Terminal server gesagt: soll alles funktionieren? ich glaube nicht, zb omnivore documente anklicken ergibt den gleichen
Fehler wie lokal (kann D. nicht aus der DB laden) Vermutlich werden die Preferences nicht korrekt ausgelesen.

- wer war das mit dem Konfigurator? n.giger?


- wie die Kohle übergeben. besser nicht auf bank.


- wie müsste der nächste Schritt aussehen? 
	Workflow mit Triggern (Werte werden über bestimmte Zeitdauer überschritten)
	dann werden bestimmte Aktionen ausgelöst
	Trigger:
	- unconditional time trigger
	- conditional trigger (ein oder mehrere LaborWerte überschreiten über eine bestimmte Zeitdauer einen best. wert, mit AND und OR)
		entweder mit grenzwert oder durchschnitt)
	
- arbeitet der Dr. auch von zuhause aus auf dem prod. wie dem cst elexis?
	wenn ja, ist ihm auch aufgefallen, dass gar nicht alles funktioniert (Briefe, Omnivore doppelklick öffnen)
	-> der Beweis, dass deshalb auch mein doppelklick öffnen nicht funktioniert.
	
	und ist ihm die miese Schriftqualität aufgefallen? 
	wenn ja, Clear type aktivieren!

- neue maschine?	
	

TODO:

E Problems occurred when invoking code from plug-in: "org.eclipse.ui.workbench".
!STACK 0
java.lang.NullPointerException
	at ch.gpb.elexis.cst.view.CstProfileEditor.setFocus(CstProfileEditor.java:1845)
	at org.eclipse.ui.internal.PartPane.setFocus(PartPane.java:334)
	at org.eclipse.ui.internal.WorkbenchPage$3.run(WorkbenchPage.java:712)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)
	at org.eclipse.core.runtime.Platform.run(Platform.java:857)
	at org.eclipse.ui.internal.WorkbenchPage.activatePart(WorkbenchPage.java:707)
	at org.eclipse.ui.internal.WorkbenchPage.setActivePart(WorkbenchPage.java:3645)
	at org.eclipse.ui.internal.WorkbenchPage.requestActivation(WorkbenchPage.java:3172)
	at org.eclipse.ui.internal.PartPane.requestActivation(PartPane.java:281)
	at org.eclipse.ui.internal.PartPane.setFocus(PartPane.java:327)
	at org.eclipse.ui.internal.PartStack.presentationSelectionChanged(PartStack.java:837)
	at org.eclipse.ui.internal.PartStack.access$1(PartStack.java:823)
	at org.eclipse.ui.internal.PartStack$1.selectPart(PartStack.java:137)
	at org.eclipse.ui.internal.presentations.util.TabbedStackPresentation$1.handleEvent(TabbedStackPresentation.java:133)
	at org.eclipse.ui.internal.presentations.util.AbstractTabFolder.fireEvent(AbstractTabFolder.java:269)
	at org.eclipse.ui.internal.presentations.util.AbstractTabFolder.fireEvent(AbstractTabFolder.java:278)
	at org.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder.access$1(DefaultTabFolder.java:1)
	at org.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder$2.handleEvent(DefaultTabFolder.java:88)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1053)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1077)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1062)
	at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:774)
	at org.eclipse.swt.custom.CTabFolder.setSelection(CTabFolder.java:2746)
	at org.eclipse.swt.custom.CTabFolder.onMouse(CTabFolder.java:1433)
	at org.eclipse.swt.custom.CTabFolder$1.handleEvent(CTabFolder.java:257)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1053)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4169)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3758)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2701)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2665)
	at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2499)
	at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:679)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:668)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
	at ch.elexis.core.application.Desk.start(Desk.java:92)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1438)
	at org.eclipse.equinox.launcher.Main.main(Main.java:1414)
15:51:57.824 [main] INFO  c.g.elexis.cst.view.CstProfileEditor - patient ausgewähltAebi

}



Hilfetext:
Views:	Cst Group Editor	in diesem Editor können Laboritems frei zu Gruppen ("CstGroups")
							zusammengestellt werden. Die Gruppen können mit einer Beschreibung
							versehen werden.
		Cst Profile Editor	in diesem Editor können CST Profile zum ausgewählten Patienten
							erstellt und beliebige CST Groups hinzugefügt werden.
							Die Reihenfolge der CST Groups, so wie sie in der Auswertung
							aufgelistet werden, kann festgelegt werden, mit den 
							Buttons Auf- und Abwärts.
							
							Auswertungsmodus "Effektiv"
							Der Parameter Crawlback bestimmt, wie weit die Suche nach Laborwerten
							und Befunden zurückgeht (in Tagen), bis ein Resultat für die Anzeige
							in der Letzter-Wert-Grafik gefunden wird. Alle früheren Werte werden
							in der Vorwert-Grafik angezeigt, ab dem Datum in "Auswerten ab".
							
							Auswertungsmodus "Effektiv"
							für diesen Modus können drei Zeitspannen festgelegt werden, aus welchen
							jeweils der maximale und minimale Wert herausgesucht wird.
							
							
ALTER TABLE `cstprofiles`
	ADD COLUMN `AusgabeRichtung` CHAR(1) NULL DEFAULT '1' AFTER `Active`;
							
							
							
							
							
TODO: 

müssen irgendwelche Packages für den Preferences Eintrag exportiert werden?

CstGroups sollten auch Mandant-spezifisch sein!

Labels im CstNewProfileDialog							

DateRangeComp Datumsfelder initialisieren/reset
Felder für getestete Lebensmittel immer noch zu klein
Alle SQL-create aktuell?
A4 Quer ausgabge
Konfigurierbare header footer für pdf ausgabe

Einstellungen: Omnivore-Kategorien auflisten zur auswahl



Fragen an Niklaus:

- was muss man "pullen" aus dem GIT? 						
D:\Elexis\bootstrap-elexis-3\.git
D:\Elexis\bootstrap-elexis-3\checkout\elexis-3-base\.git
D:\Elexis\bootstrap-elexis-3\checkout\elexis-3-core\.git

alle drei? Bootstrap vermutlich nicht


/****
- warum gehen omnivore/Briefe/Fixmedikation nicht in der Entwicklungsumgebung (in der opensource version 3.0.21 geht omnivore, aber nur mit neu importierten Dokumenten.

  gibt es keine passenden Dokumentationen?
  
  omnivore funktioniert auch nicht in der prod. Version nicht (über Terminal Server,, ist das das problem?)
   "Dokument kann nicht aus der DB gelesen werden"
   ****/
   
- wie irgendein Textplugin ans laufen bekommen in der Entw.umg., damit Briefe funktionieren? Im Medelexis wird das word erkannt (zwar als 2007 - 2010)
   
- was mit meinem Sourcecode machen? einchecken?

- Konfigurator: problem lag bei der zu hohen bundle-veersion 

- kann ich selber im Konfigurator etwas installieren und dann gezielt einem bestimmten Client zur Verfügung stellen?

- zirkuläre refererenz: liegt glaub ich nicht an meinem plugin, ob update hilft?

- Es gibt definitiv keinen Weg, eigene plugins im kommerz. Medelexis 3.0.21 zu installieren, nicht wahr?

- Wo ist denn das prod./kommerz. Medelexis jetzt? user sign in geht auch nicht??

- (in der Entwicklungumgebung scheinen preferences allgemein nicht so gut zu funktionieren, richtig?)

- version control mit git


- github repository:

https://github.com/danielludin/cst.git


Dr. Künzi

F16: warum erstellt er jetzt noch Profile mit gleichem Namen? Ist doch unnötig.
F17: die Profile erscheinen korrekt. ist ihm bewusst, dass views nicht geupdated werden, wenn sie
beim Patientenwechsel nicht gerade sichtbar ist? wird aus Performancegründen durchgängig im Elexis so gemacht.